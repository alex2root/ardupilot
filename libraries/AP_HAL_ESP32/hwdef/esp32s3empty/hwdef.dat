# ArduPilot ESP32 board definition for esp32s3empty
define HAL_ESP32_BOARD_NAME "esp32s3empty"

# RMT pin for protocols like DShot, SBUS, etc.
define HAL_ESP32_RMT_RX_PIN_NUMBER GPIO_NUM_44

# No sensors
define HAL_INS_DEFAULT HAL_INS_NONE
define HAL_BARO_DEFAULT HAL_BARO_NONE
# --- ИЗМЕНЕНИЕ ЗДЕСЬ: Включаем компас для успешной сборки ---
define AP_COMPASS_ENABLED 1
define ALLOW_ARM_NO_COMPASS 1

# I2C bus list
#             Port       SDA         SCL         SPEED    INTERNAL SOFT
ESP32_I2CBUS  I2C_NUM_0  GPIO_NUM_5  GPIO_NUM_6  400*KHZ  true     true

# RCIN for SBUS (this pin is used by the RMT driver defined above)
RCIN_PIN GPIO_NUM_44

# RCOUT for motors and servos
ESP32_RCOUT GPIO_NUM_1
ESP32_RCOUT GPIO_NUM_2
ESP32_RCOUT GPIO_NUM_3
ESP32_RCOUT GPIO_NUM_4
ESP32_RCOUT GPIO_NUM_7
ESP32_RCOUT GPIO_NUM_8

# WIFI settings
# 2 for UDP, 1 for TCP
define HAL_ESP32_WIFI 2
define WIFI_SSID "ardupilot123"
define WIFI_PWD "ardupilot123"

# HARDWARE UARTS
#             PORT        RXPIN        TXPIN
ESP32_SERIAL  UART_NUM_0  GPIO_NUM_17  GPIO_NUM_18

# ADC disabled
define HAL_USE_ADC 0

# Logging disabled
define HAL_LOGGING_ENABLED 0

# Other disabled features to save space
define AP_FILESYSTEM_ESP32_ENABLED 0
define AP_SCRIPTING_ENABLED 0
define HAL_USE_EMPTY_STORAGE 1

# Disable all frames except quad to save DRAM
define AP_MOTORS_FRAME_DEFAULT_ENABLED 0
define AP_MOTORS_FRAME_QUAD_ENABLED 1
